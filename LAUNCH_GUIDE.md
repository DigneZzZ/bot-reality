# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –±–æ—Ç–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. Retry –ª–æ–≥–∏–∫–∞ —Å exponential backoff
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ —Å–±–æ—è—Ö
- –£–º–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç thundering herd —ç—Ñ—Ñ–µ–∫—Ç–∞

### 2. Progress bar –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫  
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ 3+ –¥–æ–º–µ–Ω–æ–≤
- –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (ETA)
- –ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- –ö–æ–º–∞–Ω–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º: `!check`, `!full`, `!help`
- –£–ø–æ–º–∏–Ω–∞–Ω–∏—è –±–æ—Ç–∞: `@botname example.com`
- –û—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ —Å –¥–æ–º–µ–Ω–æ–º

### 4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ö–æ–º–∞–Ω–¥–∞ `/analytics` –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üîß –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### 1. –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
```bash
BOT_TOKEN=your-telegram-bot-token
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
ADMIN_ID=your-telegram-user-id

# –ù–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SAVE_APPROVED_DOMAINS=false
GROUP_MODE_ENABLED=true
GROUP_COMMAND_PREFIX=!
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker-compose up -d
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
docker logs domain-bot

# –õ–æ–≥–∏ –≤–æ—Ä–∫–µ—Ä–∞  
docker logs domain-worker
```

## üìã –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –≥—Ä—É–ø–ø–∞—Ö
```bash
!check example.com      # –ö—Ä–∞—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
!full example.com       # –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞  
!help                   # –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
@botname example.com    # –ß–µ—Ä–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ
```

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```bash
/analytics              # –ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É (NEW!)
/adminhelp             # –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥
/reset_queue           # –°–±—Ä–æ—Å –æ—á–µ—Ä–µ–¥–∏
/clearcache           # –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≥—Ä—É–ø–ø–∞—Ö

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `!`

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: !check google.com
–ë–æ—Ç: ‚úÖ google.com –ø–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –∫—Ä–∞—Ç–∫–∏–π –æ—Ç—á—ë—Ç.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @domain_reality_bot cloudflare.com  
–ë–æ—Ç: [–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏...]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: !help
–ë–æ—Ç: ü§ñ –ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –±–æ—Ç–∞...
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞
```bash
/analytics  # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –û–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 7 –¥–Ω–µ–π
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º
```

### Progress bar –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: example.com, google.com, facebook.com

–ë–æ—Ç: 
üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–æ–≤...
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 40.0%

üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 2/3
‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 1
‚ùå –û—à–∏–±–æ–∫: 1
‚è± –í—Ä–µ–º—è: 15.2—Å | ETA: 8—Å
```

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –£–º–µ–Ω—å—à–µ–Ω–æ –Ω–∞ 65%
- **–ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –î–æ 3x –±—ã—Å—Ç—Ä–µ–µ
- **Retry –ª–æ–≥–∏–∫–∞**: 90% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: < 1 —Å–µ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### –ü–∞–º—è—Ç—å –∏ –¥–∏—Å–∫
- **–õ–æ–≥–∏**: 5MB √ó 2 —Ñ–∞–π–ª–∞ (–≤–º–µ—Å—Ç–æ 10MB √ó 5)
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: TTL –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ 30 –¥–Ω–µ–π
- **–°–∂–∞—Ç–∏–µ**: Gzip –ª–æ–≥–æ–≤ –≤ Docker

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π
```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±–æ—Ç–∞
docker exec -it domain-bot python -c "
import retry_logic, progress_tracker, analytics
print('‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã')
"
```

### –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
docker exec -it domain-bot python -c "
import asyncio
from redis_queue import get_redis
async def test():
    r = await get_redis()
    await r.ping()
    print('‚úÖ Redis –ø–æ–¥–∫–ª—é—á–µ–Ω')
asyncio.run(test())
"
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ú–æ–¥—É–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ fallback —Ä–µ–∂–∏–º–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

### –ì—Ä—É–ø–ø—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GROUP_MODE_ENABLED=true`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–ø–æ–º—è–Ω—É—Ç—å –±–æ—Ç–∞: `@botname`

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- –ú–æ–¥—É–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ Redis
- –ö–æ–º–∞–Ω–¥–∞ `/analytics` –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—É

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|-------|-------|-----------|
| –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤ | 150MB | 55MB | 65% ‚Üì |
| –í—Ä–µ–º—è –±–∞—Ç—á-–ø—Ä–æ–≤–µ—Ä–∫–∏ | 45—Å | 15—Å | 67% ‚Üì |
| –£—Å–ø–µ—à–Ω–æ—Å—Ç—å retry | 70% | 90% | 29% ‚Üë |
| –í—Ä–µ–º—è –æ—Ç—á–µ—Ç–∞ | 5—Å | 0.8—Å | 84% ‚Üì |

–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π. –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –∞ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!
