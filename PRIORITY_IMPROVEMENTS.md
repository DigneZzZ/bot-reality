# –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∏–π

## üèÜ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å (–í–Ω–µ–¥—Ä–∏—Ç—å —Å–µ–π—á–∞—Å)

### 1. –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
**–í—Ä–µ–º—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 2-4 —á–∞—Å–∞
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ worker.py
async def health_check():
    try:
        r = await get_redis()
        await r.ping()
        return {"redis": "ok", "timestamp": time.time()}
    except:
        return {"redis": "error", "timestamp": time.time()}

# –ö–æ–º–∞–Ω–¥–∞ /health –¥–ª—è –∞–¥–º–∏–Ω–∞
@router.message(Command("health"))
async def cmd_health(message: types.Message):
    if message.from_user.id != ADMIN_ID:
        return
    health = await health_check()
    await message.reply(f"üè• –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:\n{health}")
```

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫
**–í—Ä–µ–º—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 1-2 —á–∞—Å–∞
```python
# –í check_domain –¥–æ–±–∞–≤–∏—Ç—å
start_time = time.time()
# ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞ ...
duration = time.time() - start_time
logging.warning(f"METRIC: domain_check {domain} {duration:.2f}s {'success' if '‚úÖ' in report else 'failed'}")
```

## ‚≠ê –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–°–ª–µ–¥—É—é—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è)

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
**–í—Ä–µ–º—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 4-6 —á–∞—Å–æ–≤
- Retry –ª–æ–≥–∏–∫–∞ —Å exponential backoff
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- –ì—Ä–∞–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã

### 4. –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫  
**–í—Ä–µ–º—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 3-4 —á–∞—Å–∞
- Progress bar –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤
- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üîÆ –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ë—É–¥—É—â–∏–µ —Ä–µ–ª–∏–∑—ã)

### 5. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- Dashboard —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏  
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- Geo-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 6. API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- REST API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Bulk –ø—Ä–æ–≤–µ—Ä–∫–∏

### 7. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É
- Slack/Discord –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
- Alertmanager —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

### –ï—Å–ª–∏ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ (>100 –ø—Ä–æ–≤–µ—Ä–æ–∫/–¥–µ–Ω—å):
1. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
2. ‚úÖ **Retry –ª–æ–≥–∏–∫–∞** - —Å–Ω–∏–∑–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫  
3. ‚úÖ **–ú–µ—Ç—Ä–∏–∫–∏** - –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ï—Å–ª–∏ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ (<50 –ø—Ä–æ–≤–µ—Ä–æ–∫/–¥–µ–Ω—å):
- –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å **–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω**
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + –∞–ª–µ—Ä—Ç—ã
2. **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ:** API + –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## üí° –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (30 –º–∏–Ω—É—Ç)

–ï—Å–ª–∏ –≤—Ä–µ–º–µ–Ω–∏ –º–∞–ª–æ, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:

```python
# –í worker.py –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
stats = {"checks": 0, "errors": 0, "start_time": time.time()}

# –í check_domain
stats["checks"] += 1
if "‚ùå" in result:
    stats["errors"] += 1

# –ö–æ–º–∞–Ω–¥–∞ /quickstats
@router.message(Command("quickstats")) 
async def quick_stats(message):
    if message.from_user.id != ADMIN_ID:
        return
    uptime = time.time() - stats["start_time"]
    await message.reply(
        f"üìä –ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:\n"
        f"–ü—Ä–æ–≤–µ—Ä–æ–∫: {stats['checks']}\n" 
        f"–û—à–∏–±–æ–∫: {stats['errors']}\n"
        f"–ê–ø—Ç–∞–π–º: {uptime/3600:.1f}—á"
    )
```

## ‚ùì –ú–æ–π –≤—ã–≤–æ–¥

**–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ë–æ—Ç —É–∂–µ –∏–º–µ–µ—Ç:
- –ù–∞–¥–µ–∂–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –•–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —ç—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–æ–ª—å–∑—É –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç–∞—Ö –≤—Ä–µ–º–µ–Ω–∏.
